/* VORTEX — stylesheet with stronger nav base color for visibility */

/* variables */
:root{
  --bg-img: url("https://images.unsplash.com/photo-1520975922071-a57141f6d676?w=2400&q=80&auto=format&fit=crop");
  --card-bg: rgba(6,10,12,0.62);
  --glass: rgba(255,255,255,0.04);
  --accent1: #00e0ff;
  --accent2: #7afcff;
  --muted: #98a6b2;
  --neon: 0 8px 40px rgba(0,224,255,0.12), inset 0 1px 0 rgba(255,255,255,0.02);
  --radius: 14px;
  --nav-h: 68px;

  /* new: explicit nav base color for solid visibility */
  --nav-base: rgba(6,22,34,0.96); /* deep blue/teal tint — visible on dark & bright backgrounds */
  --nav-overlay: rgba(6,8,10,0.28); /* subtle overlay for gradient layering */
  --transition-fast: 180ms;
  --transition-med: 260ms;
}

/* reset */
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;
  background:#000;
  color:#e9fbff;
}
a{color:inherit;text-decoration:none}

/* ----------------------------------------------------------- */
/* NAV — visible base color, animated, badge, underline       */
/* ----------------------------------------------------------- */

.nav{
  position:fixed;
  top:0;
  left:0;
  right:0;
  height:var(--nav-h);
  display:flex;
  align-items:center;
  z-index:9999;
  padding:0 18px;

  /* stronger base color layer ensures nav is always readable */
  background: linear-gradient(180deg, var(--nav-base), rgba(6,18,28,0.92));
  /* keep a touch of translucency + blur for polish */
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,0.04);

  /* reveal animation transform (hidden by default) */
  transform: translateY(-10px);
  opacity: 0;
  transition: transform var(--transition-med) cubic-bezier(.2,.9,.2,1), opacity var(--transition-med), background var(--transition-fast), box-shadow var(--transition-fast);
}

/* applied by script after DOM loaded */
.nav.nav-loaded{
  transform: translateY(0);
  opacity: 1;
}

/* scrolled (intensifies backdrop) */
.nav.scrolled{
  background: linear-gradient(180deg, rgba(4,12,20,0.98), rgba(3,6,12,0.98));
  border-bottom:1px solid rgba(255,255,255,0.06);
  box-shadow:0 6px 22px rgba(0,0,0,0.6);
}

/* nav inner container */
.nav-inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  width:100%;
  max-width:1200px;
  margin:0 auto;
  gap:12px;
}

/* brand */
.brand{
  color:#f3fcff;
  font-weight:900;
  letter-spacing:0.7px;
  font-size:20px;
  padding:8px 10px;
  border-radius:8px;
}

/* nav links */
.nav-links{
  list-style:none;
  display:flex;
  gap:10px;
  align-items:center;
  margin:0;
  padding:0;
}

/* link base */
.nav-link{
  position:relative;
  color:var(--muted);
  padding:8px 12px;
  border-radius:8px;
  font-weight:700;
  transition: color var(--transition-fast), background var(--transition-fast), transform var(--transition-fast);
  cursor:pointer;
  background:transparent;
  text-decoration:none;
  display:inline-flex;
  gap:8px;
  align-items:center;
  white-space:nowrap;
}

/* underline pseudo element */
.nav-link::after{
  content:"";
  position:absolute;
  left:12px;
  right:12px;
  height:3px;
  bottom:6px;
  border-radius:3px;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  transform: translateY(6px) scaleX(0);
  transform-origin:left center;
  opacity:0;
  transition: transform var(--transition-fast) cubic-bezier(.2,.9,.2,1), opacity var(--transition-fast);
}

/* hover/focus */
.nav-link:hover,
.nav-link:focus{
  color:#fff;
  transform: translateY(-2px);
  background:rgba(255,255,255,0.03);
}
.nav-link:hover::after,
.nav-link:focus::after{
  transform: translateY(0) scaleX(1);
  opacity:1;
}

/* active */
.nav-link.active{
  color:var(--accent1);
  background:rgba(0,224,255,0.06);
}
.nav-link.active::after{
  transform: translateY(0) scaleX(1);
  opacity:1;
  box-shadow: 0 6px 18px rgba(0,224,255,0.08);
}

/* badge for latest lap */
.nav-badge{
  background: linear-gradient(90deg,var(--accent1),var(--accent2));
  color:#021214;
  font-weight:800;
  font-size:12px;
  padding:6px 8px;
  border-radius:999px;
  margin-left:8px;
  box-shadow:0 8px 26px rgba(0,224,255,0.08);
}
.nav.scrolled .nav-badge{ box-shadow:0 10px 32px rgba(0,224,255,0.10); }

/* mobile */
.nav-toggle{
  display:none;
  background:transparent;
  color:var(--muted);
  border:0;
  font-size:22px;
  padding:6px 8px;
}

@media (max-width:820px){
  .nav-links{ display:none; }
  .nav.open .nav-links{
    display:flex;
    position:absolute;
    top:var(--nav-h);
    left:0;
    right:0;
    flex-direction:column;
    gap:6px;
    padding:10px 18px;
    background:linear-gradient(180deg, rgba(6,8,10,0.94), rgba(2,4,6,0.96));
    backdrop-filter:blur(8px);
    box-shadow:0 25px 60px rgba(0,0,0,0.6);
    transform-origin:top center;
    animation: dropIn 260ms cubic-bezier(.2,.9,.2,1);
  }
  .nav-toggle{ display:block; }
}
@keyframes dropIn{ from{ transform: translateY(-6px); opacity:0 } to{ transform: translateY(0); opacity:1 } }

/* ----------------------------------------------------------- */
/* BACKGROUND & LAYOUT                                         */
/* ----------------------------------------------------------- */

.bg-image{
  position:fixed;
  inset:0;
  background-image: linear-gradient(rgba(1,3,5,0.45), rgba(2,4,8,0.75)), var(--bg-img);
  background-size:cover;
  background-position:center;
  z-index:-3;
  animation: zoom 24s ease-in-out infinite alternate;
}
@keyframes zoom{ from{ transform:scale(1) } to{ transform:scale(1.04) } }

.bg-overlay{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
  background:
    radial-gradient(900px 360px at 88% 82%, rgba(0,224,255,0.06), transparent 60%),
    radial-gradient(700px 260px at 12% 18%, rgba(0,224,255,0.04), transparent 60%);
}

/* frame */
.frame{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
  padding-top:calc(var(--nav-h) + 28px);
}

/* center */
.center{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  max-width:1100px;
}

/* ----------------------------------------------------------- */
/* CARD / DISPLAY                                              */
/* ----------------------------------------------------------- */

.card{
  width:100%;
  max-width:760px;
  padding:28px;
  border-radius:12px;
  background:var(--card-bg);
  box-shadow:0 30px 80px rgba(0,0,0,0.7);
  backdrop-filter:blur(6px);
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
  transition:transform 260ms ease, box-shadow 260ms ease;
}
.card:hover{ transform:translateY(-6px); box-shadow:0 40px 110px rgba(0,0,0,0.8); }

.quote{ color:var(--muted); font-weight:700; letter-spacing:0.6px; font-size:17px; }

/* display */
.timer-wrap{ width:100%; display:flex; justify-content:center; align-items:center; position:relative; padding:6px; }
.display{
  font-family:"Segoe UI Mono","Roboto Mono",ui-monospace,Menlo,Monaco;
  font-size:72px;
  color:#eaffff;
  padding:12px 18px;
  border-radius:12px;
  width:100%;
  max-width:860px;
  text-align:center;
  background:rgba(255,255,255,0.03);
  box-shadow:var(--neon);
  letter-spacing:2px;
  transition:transform 180ms cubic-bezier(.2,.9,.2,1), text-shadow 180ms ease;
}
@media (min-width:1200px){ .display{ font-size:110px } }
.display.running{ transform:scale(1.02); text-shadow:0 6px 30px rgba(0,224,255,0.12), 0 2px 12px rgba(0,224,255,0.09); }

.display-glow{ position:absolute; width:300px; height:100px; border-radius:12px; background:linear-gradient(90deg,var(--accent1),var(--accent2)); filter:blur(36px); z-index:-1; opacity:0; transition:opacity 300ms ease, transform 300ms ease; }

/* keyboard hint tooltip */
.shortcut-hint{ position:absolute; right:8px; top:8px; background:rgba(255,255,255,0.04); color:var(--muted); padding:6px 8px; border-radius:8px; font-size:12px; transform-origin: top right; opacity:0; transform: translateY(-6px) scale(0.98); transition: opacity 260ms, transform 260ms; z-index:10; }
.shortcut-hint.show{ opacity:1; transform: translateY(0) scale(1); }

/* ----------------------------------------------------------- */
/* CONTROLS / META                                             */
/* ----------------------------------------------------------- */

.controls{ width:100%; display:flex; justify-content:space-between; align-items:center; gap:18px; margin-top:6px; }
.btn{ display:inline-flex; align-items:center; gap:8px; padding:10px 16px; border-radius:12px; border:0; font-weight:800; cursor:pointer; position:relative; overflow:hidden; transition:transform 180ms ease; }
.btn:active{ transform:translateY(1px); }
.btn.start{ background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#021214; padding:14px 20px; font-size:16px; box-shadow:0 12px 36px rgba(0,224,255,0.12); }
.btn.secondary{ background:rgba(255,255,255,0.03); color:#eaffff; border:1px solid rgba(255,255,255,0.05); }
.btn.ghost{ background:transparent; color:#eaffff; border:1px solid rgba(255,255,255,0.06); }
.btn.tiny{ padding:8px 10px; font-size:13px; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); color:var(--muted); }

.meta-row{ width:100%; display:flex; justify-content:center; gap:18px; margin-top:8px; color:var(--muted); }
.meta{ display:flex; flex-direction:column; align-items:center; }
.meta-key{ font-size:12px; font-weight:700; color:var(--muted); }
.meta-val{ font-weight:900; font-size:15px; }

/* ----------------------------------------------------------- */
/* LAP DRAWER / LAPS PAGE                                       */
/* ----------------------------------------------------------- */

.lap-drawer{ position:fixed; left:50%; bottom:18px; transform:translateX(-50%); width:min(920px,94%); background:rgba(10,14,18,0.85); backdrop-filter:blur(12px); border-radius:14px; padding:12px; box-shadow:0 40px 80px rgba(0,0,0,0.8); transition:transform 260ms ease, opacity 260ms ease; z-index:40; }
.lap-drawer.closed{ transform:translateX(-50%) translateY(92%); opacity:0.08; pointer-events:none; }

.drawer-header{ display:flex; justify-content:space-between; align-items:center; color:var(--muted); }
.drawer-header h2{ margin:0; font-size:18px; color:#eaffff; }
.drawer-actions{ display:flex; gap:8px; }

.laps{ list-style:none; margin:6px 0 0; padding:0; max-height:40vh; overflow:auto; display:flex; flex-direction:column; gap:8px; }
.laps li{ padding:10px; border-radius:10px; background:rgba(255,255,255,0.03); display:flex; justify-content:space-between; font-family:ui-monospace, Menlo, monospace; opacity:0; transform:translateY(8px); transition:opacity 300ms ease, transform 300ms ease; }
.laps li.show{ opacity:1; transform:translateY(0); }
.lap-index{ font-weight:800; color:var(--muted); }
.lap-time{ font-weight:900; color:#eaffff; }

/* ----------------------------------------------------------- */
/* LAPS PAGE                                                   */
/* ----------------------------------------------------------- */

.center-laps{ max-width:840px; width:100%; }
.lap-page-card{ width:100%; background:rgba(8,12,14,0.68); backdrop-filter:blur(10px); padding:30px; border-radius:14px; box-shadow:0 30px 80px rgba(0,0,0,0.7); }
.page-title{ margin:0 0 16px; font-size:32px; font-weight:800; color:#f4fdff; }
.lap-actions{ display:flex; gap:12px; margin-bottom:16px; }
.fullscreen-laps{ max-height:65vh; overflow:auto; }

/* ----------------------------------------------------------- */
/* RESPONSIVE / misc                                           */
/* ----------------------------------------------------------- */

@media (max-width:900px){
  .display{ font-size:58px; }
  .card{ padding:22px; }
  .lap-drawer{ width:96%; }
  .nav-inner{ gap:8px; }
}
.visually-hidden{ position:absolute!important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); }
